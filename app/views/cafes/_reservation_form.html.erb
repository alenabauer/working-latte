<%= simple_form_for [chair, reservation],
  url: chair_reservations_path(chair),
  html: { data: {
    controller: 'update-time-slots',
    update_time_slots_url: "/chairs/#{chair.id}/fetch_time_slots"
  } } do |f|
%>
  <%= f.input :date, as: :date, label: false, value: params[:date], input_html: {
    "data-action" => "change->update-time-slots#sendRequest",
    "data-update-time-slots-target" => "dateInput"
  }  %>
  <%= f.association :time_slots,
    collection: chair.time_slots.where("start_time > ?", Date.tomorrow).where("start_time < ?", Date.tomorrow + 1),
    label_method: :to_label,
    value_method: :id,
    as: :check_boxes,
    id: "my-reservation-time-slots",
    input_html: {
      "data-update-time-slots-target" => "slot",
      class: "timeslot-selector",
    },
    item_wrapper_class: 'timeslot-item'
  %>
  <%= f.submit "Book!", class: "btn book-btn" %>
<% end %>
